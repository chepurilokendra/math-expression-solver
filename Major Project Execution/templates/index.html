<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="{{url_for('static',filename='style.css')}}">

    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@900&family=League+Gothic&display=swap" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
    <!-- <script src="{{url_for('static',filename='canvas.js')}}"></script> -->
</head>
<body>
    <h1 style="text-align: center; font-family: 'Cinzel', serif;
    font-family: 'League Gothic', sans-serif; ">AI Application for Mathematical Computations</h1>

    <br>


  
    <canvas id="canvas" width="700" height="400">
        <!-- dkd -->
    </canvas>

    <form>
        <!-- <input type="button" onclick="window.open('file\:\\\C:\\Windows\\System32\\mspaint.exe')"> -->
        <!-- <input type="button" onclick="getImage('image')" value="uploaded"> -->
    </form>

    <br>

    <button id="canvaimage" class="btn btn-primary" style="margin: 20px;" onclick= "getImage('canvaimage')" name="action" method="post">Save</button>
<br>

    <form>
        <input type="file" name="image" id="image" onclick="init()">
        <!-- <input type="button" onclick="getImage('image')" value="uploaded"> -->
    </form>

    <form action="/input" method="POST">
        <input type="text" name="imgsrc" id="imgsrc" style="visibility: hidden">
        <input type="submit" class="btn btn-primary" value="Calculate">
        <input type="button" class="btn btn-primary" value="Save to Doc" onclick="savepdf()">
    </form>

   <br>
 <div class="row" style="display: flex; align-items: center;">  
    <div class="col-2"></div>
<div class ="col-4" style="border: 2px solid black; display: inline-block;">
    {% if equation %}
    <h1 style="background-color: blue; color: white; display: inline-block;">Formatted Equation</h1>
    &nbsp; <h1 id="equations" onmouseenter="convert()">{{equation}}</h1>
    <!-- <img src="{{imgsrc}}" alt=""> -->
    {% endif %}
</div>
<br>
<div class ="col-4" style="border: 2px solid black; display: inline-block;">
    {% if result %}
    <h1  style="background-color: green; color: white; display: inline-block;">Result</h1>
    <h1 id="result" onmouseenter="convert()">{{result}}</h1>
    <!-- <img src="{{imgsrc}}" alt=""> -->
    {% endif %}
</div>

</div>

    


    <!-- <script src="canvas.js"></script> -->
    <script src="{{url_for('static',filename='canvas.js')}}"></script>

    <script>
    // const fs = require('fs') 

//     window.addEventListener('load',()=>{
//         console.log("hello")
    
//         const canvas = document.querySelector("#canvas");
//         const ctx = canvas.getContext("2d");
//         const canvasoffsetX = canvas.offsetLeft
//         const canvasoffsetY = canvas.offsetTop
//         canvas.height  = 500 - canvasoffsetY ;
//         canvas.width = 800 - canvasoffsetX;


//         let painting  = false;
        
//         function startPosition()
//         {
//             painting = true;
//         }

//         function finishedPosition()
//         {
//             painting = false;
//             ctx.beginPath()

//         }

//         function draw(e)
//         {
//             if (!painting) return;

//             ctx.lineWidth = 10;
//             ctx.lineCap = "round";


//             ctx.lineTo(e.clientX-canvasoffsetX,e.clientY-canvasoffsetY);
//             ctx.stroke()
//             ctx.beginPath()
//             ctx.moveTo(e.clientX-canvasoffsetX,e.clientY-canvasoffsetY)

//         }


//         canvas.addEventListener("mousedown",startPosition);
//         canvas.addEventListener("mouseup",finishedPosition);
//         canvas.addEventListener("mousemove",draw)

    
    
//     });
    
//     function getImage()
//     {
//     img = document.getElementById("canvas")
        
//     dataURL = img.toDataURL()
//     console.log(dataURL)
//     console.log(typeof(dataURL))

//     // form.file=dataUrl
//     // console.log(form.file)
//     localStorage.setItem("imgData", dataURL);
//     // document.getElementById("imgsrc").value=dataURL;
//     // fs.writeFile( "E:\\Major Project Execution\\static", "b", dataURL)

//     fetch(" http://localhost:3000/posts", {
//   method: "POST",
//   body: dataURL,
//   headers: {
//     "Content-type": "application/json; charset=UTF-8"
//   }
// })
//   .then((response) => response)
//   .then((json) => console.log(json));
    
//     }
//     ;</script>

</body>

</html>